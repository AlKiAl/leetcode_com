

https://leetcode.com/problems/implement-rand10-using-rand7/

У Федора Меньшикова разбор отсут-т!

___________

https://en.cppreference.com/w/cpp/numeric/random/rand -- встроенный рандомайзер

Алгоритм получения равномерного распределения для rand10()

Для начала вспомним определение ["Дискретное равномерное распределение"](https://ru.wikipedia.org/wiki/%D0%94%D0%B8%D1%81%D0%BA%D1%80%D0%B5%D1%82%D0%BD%D0%BE%D0%B5_%D1%80%D0%B0%D0%B2%D0%BD%D0%BE%D0%BC%D0%B5%D1%80%D0%BD%D0%BE%D0%B5_%D1%80%D0%B0%D1%81%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5)

случайная величина имеет дискретное равномерное распределение, если она принимает конечное число $n$ 
значений с равными вероятностями, соответственно, вероятность каждого значения равна ${\displaystyle 1/n.}$

rand10() имеет область значения в виде { $1,2,3,4,5,6,7,8,9,10$ }, ввиду определения выше утверждаем, что вероятность выдачи любого числа из области значения 
rand10() равна ${\displaystyle 1/10.}$

Поэтому перефраз задачи можно сделать следующим: вызвать минимально возможное количество раз rand7() и на основе полученных значений построить выбор одного элемента 
из { $1,2,3,4,5,6,7,8,9,10$ } так, чтобы вероятность выбора была ${\displaystyle 1/10.}$

Вызвем два раза rand7(). 

```objectives
        const int x = rand7();
        const int y = rand7();
```

Рассмотрим $(x,y)$. Получится, что $(x,y)$ лежит в { $1,2,3,4,5,6,7$ } $\times$ { $1,2,3,4,5,6,7$ } -- назовем это множество Pair. 
Данное множество, если представить в виде таблицы, можно заполнить слева направо сверху вниз числами от 1 до 49. Назовем одно значение таблицы val. Тогда:

```objectives
val = x + (y-1) * 7;
1 <= x <= 7 == смещение по горизонтали  
(y-1) * 7 \in {0,7, 14,21,...,42) == смещение по вертикали
```

Если пройдемся по таблице и от каждого val возьмем остаток от деления на 10, то Pair будет заполнен { $0,1,2,3,4,5,6,7,8,9$ }. Если прибавим 1 к каждому val 
то Pair будет заполнен { $1,2,3,4,5,6,7,8,9,10$ }. Уберем последние 9 чисел:

<img src="https://github.com/SkosMartren/useful-materials/blob/main/470_1.png" width="800" height="500"/>

Заметим, что для любого числа из { $1,2,3,4,5,6,7,8,9,10$ } вероятность выбрать его из значений таблицы Pair теперь равна ${\displaystyle 4/40 = 1/10}$ 
-- именно для этого убирались последние 9 чисел. Значит услоиве равномерного распределения выполнено, теперь по значениям $(x,y)$ можем получить рандомное
равномерно распределнное значение, при условии, что $val <= 40$

___________________

Отметим, что данная задачу можно обобщить на произвольные randN() и randM()

___________________

А Б, [7/2/2023 11:08 PM]
друзья, а если у меня есть генератор случайных чисел от 1 до 7 с равномерным распределением [далее — rand7()], я могу из него сделать генератор случайных чисел от 1 до 10 [далее — rand10()] с равномерным распределением примерно так: 

10 раз независимо вызываем rand7() и сумируем результаты, которые рандом будет выдавать, после чего от указанной суммы берем остаток по 10 и прибавляем 1.

Aleksey Uvarov, [7/2/2023 11:23 PM]
Если много раз вызывать (больше чем 10), то "практически", скорее всего, можно будет приблизиться к равномерному распределению сколь угодно близко, но вряд ли это будет в точности равномерное распределение

Вообще сумма результатов для такого не помощник: плотность распределения суммы двух независимых величин - это свёртка плотностей (по крайней мере для случая, когда плотность есть; не уверен, как тут)

___________________

Роман Бекетов, [10/4/2023 4:10 PM]
да

Роман Бекетов, [10/4/2023 4:10 PM]
У них тесты говно

Роман Бекетов, [10/4/2023 4:11 PM]
они не учитывают сотые

Роман Бекетов, [10/4/2023 4:11 PM]
скорр всего там тесты, которые считают мат ожидание)

Роман Бекетов, [10/4/2023 4:11 PM]
и сравнивают его до десятых

Роман Бекетов, [10/4/2023 4:14 PM]
я посчитал, если мы учитываем 30, т,е. вероятность 1 (единицы) = 4/30, а всех остальных цифр 3/30, то M(rand10) = 83/15 = 5,5(3)

а если мы не учитываем 30, т.е. вероятность всех цифр равна и равна 3/30 => M(rand10) = 5,5

Роман Бекетов, [10/4/2023 4:15 PM]
А как иначе проверить равномерность данного рандомайзера) Только посчитать матожидание и мб дисперсию

F L, [10/4/2023 4:15 PM]
ля ты загнался, интересная мысль, мое уважение по меньшей мере за нее, даже если оно не вреное

F L, [10/4/2023 4:15 PM]
я вот не знаю)))

Роман Бекетов, [10/4/2023 4:16 PM]
Ахах, ну как неверное) можешь сам пересчитать

Роман Бекетов, [10/4/2023 4:18 PM]
Ну тервер не обманывает, я вроде правильно посчитал

Расхождение в одной вероятности на такую незначимую величину на матожидание не влияет

Роман Бекетов, [10/4/2023 4:18 PM]
и как раз та константа на мат ожидание не влияет

Роман Бекетов, [10/4/2023 4:18 PM]
ну -5, которую мы вычитаем

Роман Бекетов, [10/4/2023 4:19 PM]
суорее всего там тесты не совсем корректные

Роман Бекетов, [10/4/2023 4:19 PM]
Можно придумать какой нибудь ещё пример

Роман Бекетов, [10/4/2023 4:19 PM]
где расхождение в мат ожидании будет на сотую

Роман Бекетов, [10/4/2023 4:19 PM]
и проверить)

______

короче rand7 + rand7 + rand7 + rand7 + rand7 биекция  в [0: 30] - проходит

(rand7 - 1) + (rand7-1)*7     if  эта сумма <= 39  - то это биекция в [0:29] - проходит

(rand7 - 1) + (rand7-1)*7     if  эта сумма <= 40  - то это биекция в [0:30] - не проходит
