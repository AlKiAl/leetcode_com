https://leetcode.com/problems/count-substrings-without-repeating-character/description/ -- Subscribe to unlock

https://github.com/doocs/leetcode/blob/main/solution/2700-2799/2743.Count%20Substrings%20Without%20Repeating%20Character/README_EN.md

https://walkccc.me/LeetCode/problems/2743/

related:
* https://github.com/AlKiAl/leetcode_com/tree/main/3.%20Longest%20Substring%20Without%20Repeating%20Characters

Давайте строго докажем утверждение, что \( \text{count} += (R - L + 1) \) корректно вычисляет количество подстрок, заканчивающихся на текущем символе строки \( R \) и не содержащих повторяющихся символов.

---

### Обозначения:
- \( R \) — текущая позиция в строке.
- \( L \) — начало текущего окна (подстроки без повторений).
- \( R - L + 1 \) — длина текущей подстроки без повторений.

---

### Утверждение:
Каждый новый символ на позиции \( R \) добавляет \( R - L + 1 \) подстрок к общему количеству.

---

### Доказательство:

#### 1. Количество новых подстрок:
Если текущая подстрока начинается с \( L \) и заканчивается на \( R \), то возможны следующие подстроки:
- Подстрока из 1 символа: \( s[R] \),
- Подстрока из 2 символов: \( s[R-1, R] \),
- Подстрока из 3 символов: \( s[R-2, R] \),
- ...,
- Подстрока из \( R - L + 1 \) символов: \( s[L, R] \).

Итак, количество всех подстрок, которые заканчиваются на \( R \), равно \( R - L + 1 \).

---

#### 2. Почему учитываются только уникальные подстроки?
Алгоритм поддерживает инвариант:
- Все символы в диапазоне от \( L \) до \( R \) уникальны.

Если встречается повторение символа \( s[R] \), \( L \) сдвигается так, чтобы новый \( L \) указывал на первый символ после предыдущего вхождения \( s[R] \). Это гарантирует, что каждый раз, когда \( R \) увеличивается, диапазон от \( L \) до \( R \) состоит только из уникальных символов.

---

#### 3. Итог:
Каждый раз, когда \( R \) увеличивается, мы корректно добавляем количество подстрок \( R - L + 1 \), так как:
- Они начинаются в диапазоне от \( L \) до \( R \),
- Все символы в текущей подстроке уникальны.

---

### Пример:
Рассмотрим строку \( s = \text{"abc"} \).

1. \( R = 0, L = 0 \):
   - Подстрока: \( \text{"a"} \),
   - \( \text{count} = 1 \).

2. \( R = 1, L = 0 \):
   - Подстроки: \( \text{"b"}, \text{"ab"} \),
   - \( \text{count} = 1 + 2 = 3 \).

3. \( R = 2, L = 0 \):
   - Подстроки: \( \text{"c"}, \text{"bc"}, \text{"abc"} \),
   - \( \text{count} = 3 + 3 = 6 \).

Итог: \( \text{count} = 6 \), что совпадает с общим количеством подстрок без повторений.

---

Таким образом, формула \( \text{count} += (R - L + 1) \) строго доказана.
